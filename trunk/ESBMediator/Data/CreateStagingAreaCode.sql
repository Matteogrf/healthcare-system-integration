CREATE  TABLE `D_ASSISTITO` (
  `ID_ASSISTITO` INT NOT NULL ,
  `ID_ANAGRAFE_LOCALE` INT NULL ,
  `MITTENTE_NOME_ENTE` VARCHAR(255) NULL ,
  `MITTENTE_URL_ENTE` VARCHAR(255) NULL ,
  `ANAG_URL_ENTE` VARCHAR(255) NULL ,
  `ANAG_ID_ANAGRAFE` VARCHAR(50) NULL ,
  `ID_ASS_SOC` INT NULL ,
  `HASH_COD` VARCHAR(255) NULL ,
  `DATA_NASCITA` DATE NULL ,
  `COMUNE_NASCITA_COD` INT NULL ,
  `COMUNE_NASCITA_DESCR` VARCHAR(255) NULL ,
  `COMUNE_RESIDENZA_COD` INT NULL ,
  `COMUNE_RESIDENZA_DESCR` VARCHAR(255) NULL ,
  `SESSO` CHAR(1) NULL ,
  `CAP` VARCHAR(5) NULL ,
  `STATO_CIVILE_COD` INT NULL ,
  `STATO_CIVILE_DESCR` VARCHAR(255) NULL ,
  `NAZIONALITA_COD` INT NULL ,
  `NAZIONALITA_DESCR` VARCHAR(255) NULL ,
  `CITTADINANZA_COD` INT NULL ,
  `CITTADINANZA_DESCR` VARCHAR(25) NULL ,
  `POLO_COD` INT NULL ,
  `POLO_DESCR` VARCHAR(250) NULL ,
  `ENTE_GESTORE_COD` INT NULL ,
  `ENTE_GESTORE_DESCR` VARCHAR(100) NULL ,
  `INIZIO_PRESA_CARICO` DATE NULL ,
  `DATA_DOMANDA` DATE NULL ,
  PRIMARY KEY (`ID_ASSISTITO`) );


CREATE  TABLE `DWH`.`D_AREA_UTENZA` (
  `ID_AREA_UTENZA` INT NOT NULL ,
  `AREA_UTENZA_COD` INT NULL ,
  `AREA_UTENZA_DESCR` VARCHAR(255) NULL ,
  `DATA_INIZIO_VAL` DATE NULL ,
  `DATA_FINE_VAL` DATE NULL ,
  `ID_ASSISTITO` INT NOT NULL ,
  PRIMARY KEY (`ID_AREA_UTENZA`) );



CREATE  TABLE `DWH`.`D_NUCLEO_FAMILIARE` (
  `ID_NUCLEO` INT NOT NULL ,
  `CODICE_NUCLEO` INT NULL ,
  `HASH_COD` VARCHAR(255) NULL ,
  `GRADO_PARENTELA_COD` INT NULL ,
  `GRADO_PARENTELA_DESCR` VARCHAR(50) NULL ,
  `DATA_NASCITA` DATE NULL ,
  `ID_ASSISTITO` INT NOT NULL ,
  PRIMARY KEY (`ID_NUCLEO`) );



CREATE  TABLE `D_SEGNALANTE` (
  `ID_SEGNALANTE` INT NOT NULL ,
  `SEGNALANTE_COD` INT NULL ,
  `SEGNALANTE_DESCR` VARCHAR(255) NULL ,
  PRIMARY KEY (`ID_SEGNALANTE`) );


CREATE  TABLE `D_TIPO_TERZI` (
  `ID_TIPO_TERZI` INT NOT NULL ,
  `TIPO_TERZI_COD` INT NULL ,
  `TIPO_TERZI_DESCR` VARCHAR(120) NULL ,
  `NOME_TERZI` VARCHAR(60) NULL ,
  PRIMARY KEY (`ID_TIPO_TERZI`) );


CREATE  TABLE 'D_RICHIEDENTE` (
  `ID_RICHIEDENTE` INT NOT NULL ,
  `RICHIEDENTE_COD` INT NULL ,
  `RICHIEDENTE_DESCR` VARCHAR(255) NULL ,
  PRIMARY KEY (`ID_RICHIEDENTE`) );


CREATE  TABLE `D_OPERATORE` (
  `ID_OPERATORE` INT NOT NULL ,
  `OPERATORE_COD` INT NULL ,
  `NOME` VARCHAR(100) NULL ,
  `COGNOME` VARCHAR(100) NULL ,
  `POLO_COD` INT NULL ,
  `POLO_DESCR` VARCHAR(250) NULL ,
  `ENTE_GESTORE_COD` INT NULL ,
  `ENTE_GESTORE_DESCR` VARCHAR(100) NULL ,
  PRIMARY KEY (`ID_OPERATORE`) );


CREATE  TABLE `F_CARTELLA` (
  `ID_CARTELLA` INT NOT NULL ,
  `NUMERO_SCHEDA` VARCHAR(38) NULL ,
  `PRESA_CARICO_NUM` INT NULL ,
  `DATA_ACCESSO` DATE NULL ,
  `ID_ASSISTITO` INT NOT NULL ,
  `ID_SEGNALANTE` INT NOT NULL ,
  `ID_TIPO_TERZI` INT NOT NULL ,
  `ID_RICHIEDENTE` INT NOT NULL ,
  `ID_OPERATORE` INT NOT NULL ,
  `FINE_PRESA_CARICO` DATE NULL ,
  `GIORNATE_SETTIMANALI` DECIMAL(7,2) NULL ,
  `NUMERO_PASTI_SETTIMANALI` DECIMAL(7,2) NULL ,
  `NUMERO_TRASPORTI_SETTIMANALI` DECIMAL(7,2) NULL ,
  `ORE_SETTIMANALI` DECIMAL(7,2) NULL ,
  PRIMARY KEY (`ID_CARTELLA`) );



CREATE  TABLE `D_DATE` (
  `DATA` DATE NOT NULL ,
  `DAY_OF_WEEK` VARCHAR(10) NULL ,
  `MONTH` VARCHAR(50) NULL ,
  `YEAR` VARCHAR(4) NULL ,
  PRIMARY KEY (`DATA`) );



CREATE  TABLE `D_ENTE_EROGATORE` (
  `ID_ENTE_EROGATORE` INT NOT NULL ,
  `ENTE_EROGATORE_COD` VARCHAR(255) NULL ,
  `ENTE_EROGATORE_DESCR` VARCHAR(255) NULL ,
  `POLO_COD` INT NULL ,
  `POLO_DESCR` VARCHAR(250) NULL ,
  `ENTE_GESTORE_COD` INT NULL ,
  `ENTE_GESTORE_DESCR` VARCHAR(100) NULL ,
  PRIMARY KEY (`ID_ENTE_EROGATORE`) );


CREATE  TABLE `F_FATTURAZIONE` (
  `ID_FATTURAZIONE` INT NOT NULL ,
  `ID_ASSISTITO` INT NULL ,
  `ID_ENTE_EROGATORE` INT NULL ,
  `DATA_INIZIO` DATE NULL ,
  `DATA_FINE` DATE NULL ,
  `IMPORTO_FATTURA` DECIMAL(10,2) NULL ,
  `GIORNATE` DECIMAL(10,2) NULL ,
  `ACCESSI_SERVIZIO` DECIMAL(10,2) NULL ,
  `NUMERO_PASTI` DECIMAL(10,2) NULL ,
  `NUMERO_TRASPORTI` DECIMAL(10,2) NULL ,
  `GIORNI_ASSENZA_GIUSTIFICATI` DECIMAL(10,2) NULL ,
  `GIORNI_ASSENZA_NON_GIUSTIFICATI` DECIMAL(10,2) NULL ,
  `ORE_EROGATE` DECIMAL(10,2) NULL ,
  `DATA_FATTURA` DATE NULL ,
  PRIMARY KEY (`ID_FATTURAZIONE`) );


CREATE  TABLE `EVENT_TYPE` (
  `ID_EVENT_TYPE` INT NOT NULL ,
  `NAME` VARCHAR(45) NULL ,
  `EVENT_TYPE_CODE` INT NULL ,
  `DESCRIZIONE` VARCHAR(45) NULL ,
  `VERSION` INT NULL ,
  `ENTE_EROGATORE_COD` VARCHAR(255) NULL ,
  `ENTE_EROGATORE_DESCR` VARCHAR(255) NULL ,
  `POLO_COD` INT NULL ,
  `POLO_DESCR` VARCHAR(250) NULL ,
  `ENTE_GESTORE_COD` INT NULL ,
  `ENTE_GESTORE_DESCR` VARCHAR(100) NULL ,
  `VERSION_EXPIRATION_DATE` DATETIME NULL ,
  `IS_VALID` TINYINT(1) NULL ,
  PRIMARY KEY (`ID_EVENT_TYPE`) );


CREATE  TABLE `FIELD_TYPE` (
  `ID_FIELD_TYPE` INT NOT NULL ,
  `ID_EVENT_TYPE` INT NULL ,
  `NAME` VARCHAR(45) NULL ,
  `TYPE` VARCHAR(45) NULL ,
  `IS_TESTATA` TINYINT(1) NULL COMMENT 'Indica se il campo fa parte della testata oppure no' ,
  `POSIZIONE` INT NULL COMMENT 'Indica la posizione del campo nel tracciato' ,
  PRIMARY KEY (`ID_FIELD_TYPE`) );


CREATE  TABLE `ERRORS` (
  `ID_ERRORS` INT NOT NULL ,
  `CODE` VARCHAR(45) NULL ,
  `DESCRIPTION` VARCHAR(250) NULL ,
  PRIMARY KEY (`ID_ERRORS`) );


CREATE  TABLE `EVENT_LOAD` (
  `ID_EVENT_LOAD` INT NOT NULL ,
  `ID_EVENT_TYPE` INT NULL ,
  `RECEIVE_TIME` DATETIME NULL COMMENT 'Indicates when the event has been received by the DWS wrapper' ,
  `LOAD_TIME` DATETIME NULL COMMENT 'Indicates when the event has been loaded in the DWS' ,
  `IS_LOADED` TINYINT(1) NULL ,
  `ID_ERRORS` INT NULL ,
  PRIMARY KEY (`ID_EVENT_LOAD`) );


CREATE  TABLE `EVENT_DATA` (
  `ID_EVENT_DATA` INT NOT NULL ,
  `ID_FIELD_TYPE` INT NULL ,
  `VALUE` VARCHAR(255) NULL ,
  `ID_EVENT_LOAD` INT NULL ,
  `IS_LOADED` TINYINT(1) NULL ,
  `ID_ERRORS` INT NULL ,
  PRIMARY KEY (`ID_EVENT_DATA`) );

